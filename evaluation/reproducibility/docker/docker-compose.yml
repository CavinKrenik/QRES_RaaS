version: '3.8'

services:
  qres-node-1:
    build:
      context: ../../..
      dockerfile: evaluation/reproducibility/docker/Dockerfile.qres
    ports:
      - "8080:8080"
    environment:
      - QRES_NODE_ID=1
      - QRES_PEERS=qres-node-2:8080,qres-node-3:8080
    networks:
      - qres-network

  qres-node-2:
    build:
      context: ../../..
      dockerfile: evaluation/reproducibility/docker/Dockerfile.qres
    ports:
      - "8081:8080"
    environment:
      - QRES_NODE_ID=2
      - QRES_PEERS=qres-node-1:8080,qres-node-3:8080
    networks:
      - qres-network

  qres-node-3:
    build:
      context: ../../..
      dockerfile: evaluation/reproducibility/docker/Dockerfile.qres
    ports:
      - "8082:8080"
    environment:
      - QRES_NODE_ID=3
      - QRES_PEERS=qres-node-1:8080,qres-node-2:8080
    networks:
      - qres-network

networks:
  qres-network:
    driver: bridge
